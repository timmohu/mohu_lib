package mohu.core.util {	import flash.events.Event;	import flash.text.TextField;	import flash.text.TextFieldAutoSize;	import flash.utils.getTimer;	public class FPSCounter extends TextField {		private var elapsedFrames:uint;		private var lastUpdate:uint;		public function FPSCounter():void {			textColor = 0x000000;			text = "---- fps";			selectable = false;			autoSize = TextFieldAutoSize.LEFT;			addEventListener(Event.ADDED_TO_STAGE, onAdded);			addEventListener(Event.REMOVED_FROM_STAGE, onRemoved);			lastUpdate = getTimer();		}						private function onAdded(_e:Event):void {			addEventListener(Event.ENTER_FRAME, onFPS);		}						private function onRemoved(_e:Event):void {			removeEventListener(Event.ENTER_FRAME, onFPS);		}						private function onFPS(_e:Event):void {			elapsedFrames++;			var now:uint = getTimer();			var elapsedTime:uint = now - lastUpdate;			if ( elapsedTime < 1000 ) return; 			text = int(elapsedFrames / elapsedTime * 1000) + " fps";			elapsedFrames = 0;			lastUpdate = now;		}	}}